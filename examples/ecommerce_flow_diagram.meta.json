{
  "version": "1.0",
  "diagram": {
    "id": "ecommerce-guid-diagram-001",
    "name": "E-Commerce User Flow",
    "description": "Complete user journey from login to order completion"
  },
  "lifelines": [
    {
      "mermaidId": "User",
      "nextDesignId": "ecommerce-guid-lifeline-001",
      "name": "User",
      "type": "Actor",
      "order": 1
    },
    {
      "mermaidId": "UI",
      "nextDesignId": "ecommerce-guid-lifeline-002",
      "name": "UI",
      "type": "Participant",
      "order": 2
    },
    {
      "mermaidId": "AuthService",
      "nextDesignId": "ecommerce-guid-lifeline-003",
      "name": "AuthService",
      "type": "Participant",
      "order": 3
    },
    {
      "mermaidId": "Database",
      "nextDesignId": "ecommerce-guid-lifeline-004",
      "name": "Database",
      "type": "Participant",
      "order": 4
    },
    {
      "mermaidId": "EmailService",
      "nextDesignId": "ecommerce-guid-lifeline-005",
      "name": "EmailService",
      "type": "Participant",
      "order": 5
    }
  ],
  "messages": [
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-001",
      "name": "ログインページにアクセス",
      "messageSort": "Synchronous",
      "order": 1
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-002",
      "name": "ログインフォーム表示",
      "messageSort": "Return",
      "order": 2
    },
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-003",
      "name": "資格情報を入力",
      "messageSort": "Synchronous",
      "order": 3
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "AuthService",
      "nextDesignId": "ecommerce-guid-msg-004",
      "name": "認証リクエスト",
      "messageSort": "Synchronous",
      "order": 4
    },
    {
      "mermaidSourceId": "AuthService",
      "mermaidTargetId": "Database",
      "nextDesignId": "ecommerce-guid-msg-005",
      "name": "ユーザー情報クエリ",
      "messageSort": "Synchronous",
      "order": 5
    },
    {
      "mermaidSourceId": "Database",
      "mermaidTargetId": "AuthService",
      "nextDesignId": "ecommerce-guid-msg-006",
      "name": "ユーザーレコード",
      "messageSort": "Return",
      "order": 6
    },
    {
      "mermaidSourceId": "AuthService",
      "mermaidTargetId": "AuthService",
      "nextDesignId": "ecommerce-guid-msg-007",
      "name": "パスワード検証",
      "messageSort": "Synchronous",
      "order": 7
    },
    {
      "mermaidSourceId": "AuthService",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-008",
      "name": "認証成功",
      "messageSort": "Return",
      "order": 8
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-009",
      "name": "ダッシュボード表示",
      "messageSort": "Return",
      "order": 9
    },
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-010",
      "name": "商品一覧を表示",
      "messageSort": "Synchronous",
      "order": 10
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "Database",
      "nextDesignId": "ecommerce-guid-msg-011",
      "name": "商品データクエリ",
      "messageSort": "Synchronous",
      "order": 11
    },
    {
      "mermaidSourceId": "Database",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-012",
      "name": "商品リスト",
      "messageSort": "Return",
      "order": 12
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-013",
      "name": "商品一覧表示",
      "messageSort": "Return",
      "order": 13
    },
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-014",
      "name": "商品をカートに追加",
      "messageSort": "Synchronous",
      "order": 14
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "Database",
      "nextDesignId": "ecommerce-guid-msg-015",
      "name": "カート更新",
      "messageSort": "Synchronous",
      "order": 15
    },
    {
      "mermaidSourceId": "Database",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-016",
      "name": "更新完了",
      "messageSort": "Return",
      "order": 16
    },
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-017",
      "name": "チェックアウト開始",
      "messageSort": "Synchronous",
      "order": 17
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "AuthService",
      "nextDesignId": "ecommerce-guid-msg-018",
      "name": "セッション検証",
      "messageSort": "Synchronous",
      "order": 18
    },
    {
      "mermaidSourceId": "AuthService",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-019",
      "name": "検証OK",
      "messageSort": "Return",
      "order": 19
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-020",
      "name": "注文確認ページ",
      "messageSort": "Return",
      "order": 20
    },
    {
      "mermaidSourceId": "User",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-021",
      "name": "注文確定",
      "messageSort": "Synchronous",
      "order": 21
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "Database",
      "nextDesignId": "ecommerce-guid-msg-022",
      "name": "注文作成",
      "messageSort": "Synchronous",
      "order": 22
    },
    {
      "mermaidSourceId": "Database",
      "mermaidTargetId": "UI",
      "nextDesignId": "ecommerce-guid-msg-023",
      "name": "注文ID",
      "messageSort": "Return",
      "order": 23
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "EmailService",
      "nextDesignId": "ecommerce-guid-msg-024",
      "name": "注文確認メール送信",
      "messageSort": "Asynchronous",
      "order": 24
    },
    {
      "mermaidSourceId": "EmailService",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-025",
      "name": "メール送信",
      "messageSort": "Asynchronous",
      "order": 25
    },
    {
      "mermaidSourceId": "UI",
      "mermaidTargetId": "User",
      "nextDesignId": "ecommerce-guid-msg-026",
      "name": "注文完了ページ",
      "messageSort": "Return",
      "order": 26
    }
  ]
}
